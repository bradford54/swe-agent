<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Tasks</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif; padding: 20px; background: #f6f8fa; color: #24292f; }
        a { color: #0969da; text-decoration: none; }
        a:hover { text-decoration: underline; }
        .task-list { list-style: none; padding: 0; margin: 0; }
        .task-item { background: #fff; border: 1px solid #d0d7de; border-radius: 6px; padding: 16px; margin-bottom: 16px; box-shadow: 0 1px 0 rgba(27,31,36,0.04); }
        .task-title { font-size: 16px; font-weight: 600; margin: 0; color: #24292f; }
        .task-meta { color: #57606a; font-size: 12px; margin-top: 8px; display: flex; flex-wrap: wrap; gap: 8px; }
        .status { padding: 2px 10px; border-radius: 12px; font-size: 12px; font-weight: 500; text-transform: capitalize; display: inline-block; }
        .status-pending { background: #ddf4ff; color: #0969da; }
        .status-running { background: #fff8c5; color: #9a6700; }
        .status-completed { background: #dafbe1; color: #1a7f37; }
        .status-failed { background: #ffebe9; color: #cf222e; }
        .empty { text-align: center; color: #57606a; padding: 40px 0; border: 1px dashed #d0d7de; border-radius: 6px; background: rgba(255,255,255,0.5); }
    </style>
</head>
<body>
    <h1>Tasks</h1>
    {{if .Tasks}}
    <ul class="task-list">
        {{range .Tasks}}
        <li class="task-item">
            <h2 class="task-title"><a href="/tasks/{{.ID}}">{{.Title}}</a></h2>
            <div class="task-meta">
                <span class="status status-{{.Status}}">{{.Status}}</span>
                <span>{{.RepoOwner}}/{{.RepoName}}#{{.IssueNumber}}</span>
                <span>opened by {{.Actor}}</span>
                <span>{{.CreatedAt.Format "2006-01-02 15:04:05"}}</span>
            </div>
        </li>
        {{end}}
    </ul>
    {{else}}
    <div class="empty">No tasks yet</div>
    {{end}}
</body>
</html>
