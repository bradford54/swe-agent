<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>{{.Task.Title}}</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif; padding: 20px; background: #f6f8fa; color: #24292f; }
        a { color: #0969da; text-decoration: none; }
        a:hover { text-decoration: underline; }
        .header { background: #fff; border: 1px solid #d0d7de; border-radius: 6px; padding: 16px; margin-bottom: 16px; box-shadow: 0 1px 0 rgba(27,31,36,0.04); }
        .title { font-size: 24px; font-weight: 600; margin: 0; color: #24292f; }
        .meta { color: #57606a; margin-top: 8px; font-size: 14px; display: flex; flex-wrap: wrap; gap: 8px; }
        .status { padding: 2px 10px; border-radius: 12px; font-size: 12px; font-weight: 500; text-transform: capitalize; display: inline-block; }
        .status-pending { background: #ddf4ff; color: #0969da; }
        .status-running { background: #fff8c5; color: #9a6700; }
        .status-completed { background: #dafbe1; color: #1a7f37; }
        .status-failed { background: #ffebe9; color: #cf222e; }
        .logs { background: #fff; border: 1px solid #d0d7de; border-radius: 6px; padding: 16px; min-height: 120px; box-shadow: 0 1px 0 rgba(27,31,36,0.04); }
        .log-entry { margin-bottom: 12px; font-family: ui-monospace, SFMono-Regular, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; font-size: 12px; white-space: pre-wrap; word-break: break-word; }
        .log-time { color: #57606a; margin-right: 8px; }
        .log-level-info { color: #0969da; }
        .log-level-error { color: #cf222e; }
        .log-level-success { color: #1a7f37; }
        .log-empty { color: #57606a; font-style: italic; }
    </style>
</head>
<body>
    <div class="header">
        <h1 class="title">{{.Task.Title}}</h1>
        <div class="meta">
            <span class="status status-{{.Task.Status}}">{{.Task.Status}}</span>
            <span>{{.Task.RepoOwner}}/{{.Task.RepoName}}#{{.Task.IssueNumber}}</span>
            <span>opened by {{.Task.Actor}}</span>
            <span>created {{.Task.CreatedAt.Format "2006-01-02 15:04:05"}}</span>
            <span>updated {{.Task.UpdatedAt.Format "2006-01-02 15:04:05"}}</span>
        </div>
    </div>
    <h2>Logs</h2>
    <div class="logs">
        {{if .Task.Logs}}
            {{range .Task.Logs}}
            <div class="log-entry">
                <span class="log-time">{{.Timestamp.Format "15:04:05"}}</span>
                <span class="log-level-{{.Level}}">[{{.Level}}]</span>
                {{.Message}}
            </div>
            {{end}}
        {{else}}
            <div class="log-empty">No logs yet</div>
        {{end}}
    </div>
    <p><a href="/tasks">‚Üê Back to tasks</a></p>
</body>
</html>
